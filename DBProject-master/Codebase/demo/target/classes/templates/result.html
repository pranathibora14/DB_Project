<html xmlns:th="https://www.thymeleaf.org" xmlns:form="http://www.w3.org/1999/html">
<head>
    <title>Getting Started: Handling Form Submission</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

     <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script>
        function myFunction() {
            var x = document.getElementById("planbt");
            var y = document.getElementById("res");
            if (x.style.display === "none") {
                x.style.display = "block";
                y.style.display ="none";
            } else {
                x.style.display = "none";
            }
        }
        function myFunction1() {
            var x = document.getElementById("res");
            var y = document.getElementById("planbt");
            var a= document.getElementById("ulp");
            var b= document.getElementById("rlp");
            var c= document.getElementById("olp");
            var d =document.getElementById("pp");
            if (x.style.display === "none") {
                x.style.display = "block";
                y.style.display ="none";
                a.style.display ="none";
                b.style.display ="none";
                c.style.display ="none";
                d.style.display ="none";
            } else {
                x.style.display = "none";
            }
        }

        function ulp() {
            var x = document.getElementById("res");
            //var y = document.getElementById("myDIV");
            var z =document.getElementById("ulp");
            var a =document.getElementById("rlp");
            var b =document.getElementById("olp");
            var c =document.getElementById("pp")
            if (z.style.display === "none") {
                z.style.display = "block";
                x.style.display ="none";
                a.style.display ="none";
                b.style.display ="none";
                c.style.display ="none";
            } else {
                z.style.display = "none";
            }
        }

        function rlp() {
            var x = document.getElementById("res");
            //var y = document.getElementById("myDIV");
            var z =document.getElementById("ulp");
            var a =document.getElementById("rlp");
            var b =document.getElementById("olp");
            var c =document.getElementById("pp")
            if (a.style.display === "none") {
                a.style.display = "block";
                x.style.display ="none";
                b.style.display ="none";
                c.style.display ="none";
                z.style.display ="none";
            } else {
                a.style.display = "none";
            }
        }
        function olp() {
            var x = document.getElementById("res");
            //var y = document.getElementById("myDIV");
            var z =document.getElementById("ulp");
            var a =document.getElementById("rlp");
            var b =document.getElementById("olp");
            var c =document.getElementById("pp")
            if (b.style.display === "none") {
                b.style.display = "block";
                z.style.display ="none";
                a.style.display ="none";
                x.style.display ="none";
                c.style.display ="none";
            } else {
                b.style.display = "none";
            }
        }
        function pp() {
            var x = document.getElementById("res");
            //var y = document.getElementById("myDIV");
            var z =document.getElementById("ulp");
            var a =document.getElementById("rlp");
            var b =document.getElementById("olp");
            var c =document.getElementById("pp")
            if (c.style.display === "none") {
                c.style.display = "block";
                x.style.display ="none";
                a.style.display ="none";
                b.style.display ="none";
                z.style.display ="none";
            } else {
                c.style.display = "none";
            }
        }
        function redirect(){
            var url= "http://localhost:8080/greeting";
            window.location.replace(url);
        }
        function sparkui(){
            var url= "http://localhost:4040/";
            window.open(url,'_blank');
        }
        function hui(){
            var url= "http://localhost:8088/";
            window.open(url,'_blank');
        }
        function namenodeui(){
            var url= "http://localhost:50070/";
            window.open(url,'_blank');
        }


    </script>
</head>

<body>
<h1 align="center">Result Page</h1>
<!--/*@thymesVar id="greeting" type="com.example.demo.Greeting"*/-->

    <p th:text="${greeting.validation}"  />

<p style="align-content: center" th:text="'Your Query:   ' + ${greeting.query}" align="center"/>

<div style="text-align: center" >
<button onclick="myFunction1()" align="center" class="btn btn-info">Query Output</button>
<button onclick="myFunction()" align="center" class="btn btn-info">Semantic Analysis</button>
<!--<button onclick="redirect()" class="btn btn-info">Submit Another Query</button>-->
    <button onclick="sparkui()" class="btn btn-info">Spark UI</button>
    <button onclick="hui()" class="btn btn-info">Hadoop Application UI</button>
    <button onclick="namenodeui()" class="btn btn-info">Hadoop Namenode UI</button>
    <button onclick="redirect()" class="btn btn-info">Submit Another Query</button>

</div>
<br>
<div id="planbt" style="display: none" align="center" >
      <button align="center" onclick="ulp()" class="btn btn-info" >Parsed Logical Plan</button>
    <button  align="center" onclick="rlp()" class="btn btn-info" >Analysed Logical Plan</button>
    <button  align="center" onclick="olp()"  class="btn btn-info">Optimized Logical Plan</button>
    <button  align="center" onclick="pp()"  class="btn btn-info">Physical Plan</button>

</div>


    <div id="ulp" style="display: none" align="center">
        <h2> Unresolved Logical Plan </h2>
        <pre th:text="${greeting.f1}" style="font-size: medium"/>
    </div>
     <div id="rlp" style="display: none" align="center">
        <h2>Resolved Logical Plan</h2>
        <pre th:text=" ${greeting.f2}" style="font-size: medium" />
    </div>
     <div id="olp" style="display: none" align="center">
        <h2>Optimized Logical Plan</h2>
        <pre th:text=" ${greeting.f3}" style="font-size: medium"/>
    </div>
     <div id="pp" style="display: none" align="center">
        <h2>Physical Plan</h2>
        <pre th:text="${greeting.f4}" style="font-size: medium"/>
    </div>
</div>
<div id="res" style="display: none" align="center">
<pre th:text="${greeting.f5}" />

</div>
<!--<p th:text="'content: ' + ${greeting.content}" />-->
<!--/*@thymesVar id="greeting" type="com.example.demo.Greeting"*/-->

<!--<p th:text="'content: ' + ${greeting.content}" />-->

</body>
</html>